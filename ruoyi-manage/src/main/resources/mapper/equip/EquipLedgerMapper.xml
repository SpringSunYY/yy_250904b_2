<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ruoyi.equip.mapper.EquipLedgerMapper">

    <resultMap type="EquipLedger" id="EquipLedgerResult">
        <result property="equipId"    column="equip_id"    />
        <result property="isOriginal"    column="is_original"    />
        <result property="equName"    column="equ_name"    />
        <result property="equCode"    column="equ_code"    />
        <result property="type"    column="type"    />
        <result property="equipLevels"    column="equip_levels"    />
        <result property="specification"    column="specification"    />
        <result property="putIntroDate"    column="put_intro_date"    />
        <result property="equipmentMaterial"    column="equipment_material"    />
        <result property="purchaseDate"    column="purchase_date"    />
        <result property="factoryDate"    column="factory_date"    />
        <result property="dynamicStaticEquipment"    column="dynamic_static_equipment"    />
        <result property="designOperatingParameters"    column="design_operating_parameters"    />
        <result property="installLocation"    column="install_location"    />
        <result property="supplierId"    column="supplier_id"    />
        <result property="supplierName"    column="supplier_name"    />
        <result property="departmentId"    column="department_id"    />
        <result property="departmentName"    column="department_name"    />
        <result property="responsiblePersonId"    column="responsible_person_id"    />
        <result property="responsiblePerson"    column="responsible_person"    />
        <result property="status"    column="status"    />
        <result property="specialEquipment"    column="special_equipment"    />
        <result property="remark"    column="remark"    />
        <result property="createBy"    column="create_by"    />
        <result property="createTime"    column="create_time"    />
        <result property="updateBy"    column="update_by"    />
        <result property="updateTime"    column="update_time"    />
    </resultMap>

    <sql id="selectEquipLedgerVo">
        select equip_id, is_original, equ_name, equ_code, type, equip_levels, specification, put_intro_date, equipment_material, purchase_date, factory_date, dynamic_static_equipment, design_operating_parameters, install_location, supplier_id, supplier_name, department_id, department_name, responsible_person_id, responsible_person, status, special_equipment, remark, create_by, create_time, update_by, update_time from equip_ledger
    </sql>

    <select id="selectEquipLedgerList" parameterType="EquipLedger" resultMap="EquipLedgerResult">
        <include refid="selectEquipLedgerVo"/>
        <where>
            <if test="isOriginal != null ">and is_original = #{isOriginal}</if>
            <if test="equName != null  and equName != ''">and equ_name like concat('%', #{equName}, '%')</if>
            <if test="equCode != null  and equCode != ''">and equ_code = #{equCode}</if>
            <if test="type != null  and type != ''">and type = #{type}</if>
            <if test="equipLevels != null  and equipLevels != ''">and equip_levels = #{equipLevels}</if>
            <if test="installLocation != null  and installLocation != ''">and install_location = #{installLocation}</if>
            <if test="status != null  and status != ''">and status = #{status}</if>
            <if test="specialEquipment != null  and specialEquipment != ''">and special_equipment = #{specialEquipment}</if>
        </where>
    </select>

    <select id="selectEquipLedgerByEquipId" parameterType="Long" resultMap="EquipLedgerResult">
        <include refid="selectEquipLedgerVo"/>
        where equip_id = #{equipId}
    </select>

    <insert id="insertEquipLedger" parameterType="EquipLedger" useGeneratedKeys="true" keyProperty="equipId">
        insert into equip_ledger
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="isOriginal != null">is_original,</if>
            <if test="equName != null and equName != ''">equ_name,</if>
            <if test="equCode != null">equ_code,</if>
            <if test="type != null">type,</if>
            <if test="equipLevels != null">equip_levels,</if>
            <if test="specification != null">specification,</if>
            <if test="putIntroDate != null">put_intro_date,</if>
            <if test="equipmentMaterial != null">equipment_material,</if>
            <if test="purchaseDate != null">purchase_date,</if>
            <if test="factoryDate != null">factory_date,</if>
            <if test="dynamicStaticEquipment != null">dynamic_static_equipment,</if>
            <if test="designOperatingParameters != null">design_operating_parameters,</if>
            <if test="installLocation != null">install_location,</if>
            <if test="supplierId != null">supplier_id,</if>
            <if test="supplierName != null">supplier_name,</if>
            <if test="departmentId != null">department_id,</if>
            <if test="departmentName != null">department_name,</if>
            <if test="responsiblePersonId != null">responsible_person_id,</if>
            <if test="responsiblePerson != null">responsible_person,</if>
            <if test="status != null">status,</if>
            <if test="specialEquipment != null">special_equipment,</if>
            <if test="remark != null">remark,</if>

            <if test="createBy != null">create_by,</if>
            <if test="createTime != null">create_time,</if>
            <if test="updateBy != null">update_by,</if>
            <if test="updateTime != null">update_time,</if>
         </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="isOriginal != null">#{isOriginal},</if>
            <if test="equName != null and equName != ''">#{equName},</if>
            <if test="equCode != null">#{equCode},</if>
            <if test="type != null">#{type},</if>
            <if test="equipLevels != null">#{equipLevels},</if>
            <if test="specification != null">#{specification},</if>
            <if test="putIntroDate != null">#{putIntroDate},</if>
            <if test="equipmentMaterial != null">#{equipmentMaterial},</if>
            <if test="purchaseDate != null">#{purchaseDate},</if>
            <if test="factoryDate != null">#{factoryDate},</if>
            <if test="dynamicStaticEquipment != null">#{dynamicStaticEquipment},</if>
            <if test="designOperatingParameters != null">#{designOperatingParameters},</if>
            <if test="installLocation != null">#{installLocation},</if>
            <if test="supplierId != null">#{supplierId},</if>
            <if test="supplierName != null">#{supplierName},</if>
            <if test="departmentId != null">#{departmentId},</if>
            <if test="departmentName != null">#{departmentName},</if>
            <if test="responsiblePersonId != null">#{responsiblePersonId},</if>
            <if test="responsiblePerson != null">#{responsiblePerson},</if>
            <if test="status != null">#{status},</if>
            <if test="specialEquipment != null">#{specialEquipment},</if>
            <if test="remark != null">#{remark},</if>

            <if test="createBy != null">#{createBy},</if>
            <if test="createTime != null">#{createTime},</if>
            <if test="updateBy != null">#{updateBy},</if>
            <if test="updateTime != null">#{updateTime},</if>
         </trim>
    </insert>

    <update id="updateEquipLedger" parameterType="EquipLedger">
        update equip_ledger
        <trim prefix="SET" suffixOverrides=",">
            <if test="isOriginal != null">is_original = #{isOriginal},</if>
            <if test="equName != null and equName != ''">equ_name = #{equName},</if>
            <if test="equCode != null">equ_code = #{equCode},</if>
            <if test="type != null">type = #{type},</if>
            <if test="equipLevels != null">equip_levels = #{equipLevels},</if>
            <if test="specification != null">specification = #{specification},</if>
            <if test="putIntroDate != null">put_intro_date = #{putIntroDate},</if>
            <if test="equipmentMaterial != null">equipment_material = #{equipmentMaterial},</if>
            <if test="purchaseDate != null">purchase_date = #{purchaseDate},</if>
            <if test="factoryDate != null">factory_date = #{factoryDate},</if>
            <if test="dynamicStaticEquipment != null">dynamic_static_equipment = #{dynamicStaticEquipment},</if>
            <if test="designOperatingParameters != null">design_operating_parameters = #{designOperatingParameters},</if>
            <if test="installLocation != null">install_location = #{installLocation},</if>
            <if test="supplierId != null">supplier_id = #{supplierId},</if>
            <if test="supplierName != null">supplier_name = #{supplierName},</if>
            <if test="departmentId != null">department_id = #{departmentId},</if>
            <if test="departmentName != null">department_name = #{departmentName},</if>
            <if test="responsiblePersonId != null">responsible_person_id = #{responsiblePersonId},</if>
            <if test="responsiblePerson != null">responsible_person = #{responsiblePerson},</if>
            <if test="status != null">status = #{status},</if>
            <if test="specialEquipment != null">special_equipment = #{specialEquipment},</if>
            <if test="remark != null">remark = #{remark},</if>

            <if test="createBy != null">create_by = #{createBy},</if>
            <if test="createTime != null">create_time = #{createTime},</if>
            <if test="updateBy != null">update_by = #{updateBy},</if>
            <if test="updateTime != null">update_time = #{updateTime},</if>
        </trim>
        where equip_id = #{equipId}
    </update>

    <delete id="deleteEquipLedgerByEquipId" parameterType="Long">
        delete from equip_ledger where equip_id = #{equipId}
    </delete>

    <delete id="deleteEquipLedgerByEquipIds" parameterType="String">
        delete from equip_ledger where equip_id in
        <foreach item="equipId" collection="array" open="(" separator="," close=")">
            #{equipId}
        </foreach>
    </delete>
</mapper>
